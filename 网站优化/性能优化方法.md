# 性能优化方法

## 内容层面
* 使用 CDN；
* 单域名、单域名可以减少 DNS 查找次数，多域名可以增加浏览器并行下载数量，这需要权衡，一般同一个域下不要超过四个资源；
* 避免重定向(分场景)；
* 避免 404。

## 网络层面

* 利用缓存，可以参考另一篇文章手写文件服务器，说说前后端交互；
* 文件压缩(通过响应头 Accept-Encoding: gzip, deflate, br 告诉服务器你支持的压缩类型)；
* 按需加载，提取公共代码，tree-shaking 等(都可以通过 webpack 来实现)；
* 减少 cookie 大小；
* 文件合并，通过 css 雪碧图合并图片；
* 文件预加载、图片懒加载。

## 渲染层间
* js 放底部，css 放顶部；
* 减少 reflow (回流)和 repaint(重绘)；
* 减少 dom 节点。

## 代码层面
* 缓存 dom 节点，减少节点查找，css 选择器层级优化；
* 减少 dom 节点操作；
* 合理使用 break、continue、return 等，优化循环；
* 像 react 用到的事件委托、对象池等手段。

## 事件委托
原理及应用场景